import{_ as i,c as a,o as e,a7 as t}from"./chunks/framework.odPblmUY.js";const c=JSON.parse('{"title":"Custom SVG Shapes Library","description":"","frontmatter":{"editLink":"https://github.com/mermaid-js/mermaid/edit/develop/packages/mermaid/src/docs/adding-new-shape.md","head":[["link",{"rel":"canonical","href":"https://mermaid.ai/open-source/adding-new-shape.html"}]]},"headers":[],"relativePath":"adding-new-shape.md","filePath":"adding-new-shape.md"}'),n={name:"adding-new-shape.md"};function l(h,s,p,r,o,d){return e(),a("div",null,[...s[0]||(s[0]=[t(`<h1 id="custom-svg-shapes-library" tabindex="-1">Custom SVG Shapes Library <a class="header-anchor" href="#custom-svg-shapes-library" aria-label="Permalink to &quot;Custom SVG Shapes Library&quot;">​</a></h1><p>This library provides a collection of custom SVG shapes, utilities, and helpers for generating diagram components. The shapes are designed to be used within an SVG container and include a variety of common and complex shapes.</p><h2 id="overview" tabindex="-1">Overview <a class="header-anchor" href="#overview" aria-label="Permalink to &quot;Overview&quot;">​</a></h2><h2 id="shape-helpers-and-utilities" tabindex="-1">Shape Helpers and Utilities <a class="header-anchor" href="#shape-helpers-and-utilities" aria-label="Permalink to &quot;Shape Helpers and Utilities&quot;">​</a></h2><p>Before starting with shape creation, it&#39;s essential to familiarize yourself with the utilities provided in the <code>utils.ts</code> file from <code>packages/mermaid/src/rendering-util/rendering-elements/shapes/util.js</code>. These utilities are designed to assist with various aspects of SVG shape manipulation and ensure consistent and accurate rendering.</p><h2 id="available-utilities" tabindex="-1">Available Utilities <a class="header-anchor" href="#available-utilities" aria-label="Permalink to &quot;Available Utilities&quot;">​</a></h2><h3 id="_1-labelhelper" tabindex="-1">1. <code>labelHelper</code> <a class="header-anchor" href="#_1-labelhelper" aria-label="Permalink to &quot;1. \`labelHelper\`&quot;">​</a></h3><ul><li><strong>Purpose</strong>: This function creates and inserts labels inside SVG shapes.</li><li><strong>Features</strong>: <ul><li>Handles both HTML labels and plain text.</li><li>Calculates the bounding box dimensions of the label.</li><li>Ensures proper positioning of labels within shapes.</li></ul></li></ul><h3 id="_2-updatenodebounds" tabindex="-1">2. <code>updateNodeBounds</code> <a class="header-anchor" href="#_2-updatenodebounds" aria-label="Permalink to &quot;2. \`updateNodeBounds\`&quot;">​</a></h3><ul><li><strong>Purpose</strong>: Updates the bounding box dimensions (width and height) of a node.</li><li><strong>Usage</strong>: <ul><li>Adjusts the size of the node to fit the content or shape.</li><li>Useful for ensuring that shapes resize appropriately based on their content.</li></ul></li></ul><h3 id="_3-insertpolygonshape" tabindex="-1">3. <code>insertPolygonShape</code> <a class="header-anchor" href="#_3-insertpolygonshape" aria-label="Permalink to &quot;3. \`insertPolygonShape\`&quot;">​</a></h3><ul><li><strong>Purpose</strong>: Inserts a polygon shape into an SVG container.</li><li><strong>Features</strong>: <ul><li>Handles the creation and insertion of complex polygonal shapes.</li><li>Configures the shape&#39;s appearance and positioning within the SVG container.</li></ul></li></ul><h3 id="_4-getnodeclasses" tabindex="-1">4. <code>getNodeClasses</code> <a class="header-anchor" href="#_4-getnodeclasses" aria-label="Permalink to &quot;4. \`getNodeClasses\`&quot;">​</a></h3><ul><li><strong>Purpose</strong>: Returns the appropriate CSS classes for a node based on its configuration.</li><li><strong>Usage</strong>: <ul><li>Dynamically applies CSS classes to nodes for styling purposes.</li><li>Ensures that nodes adhere to the desired design and theme.</li></ul></li></ul><h3 id="_5-createpathfrompoints" tabindex="-1">5. <code>createPathFromPoints</code> <a class="header-anchor" href="#_5-createpathfrompoints" aria-label="Permalink to &quot;5. \`createPathFromPoints\`&quot;">​</a></h3><ul><li><strong>Purpose</strong>: Generates an SVG path string from an array of points.</li><li><strong>Usage</strong>: <ul><li>Converts a list of points into a smooth path.</li><li>Useful for creating custom shapes or paths within the SVG.</li></ul></li></ul><h3 id="_6-generatefullsinewavepoints" tabindex="-1">6. <code>generateFullSineWavePoints</code> <a class="header-anchor" href="#_6-generatefullsinewavepoints" aria-label="Permalink to &quot;6. \`generateFullSineWavePoints\`&quot;">​</a></h3><ul><li><strong>Purpose</strong>: Generates points for a sine wave, useful for creating wavy-edged shapes.</li><li><strong>Usage</strong>: <ul><li>Facilitates the creation of shapes with wavy or sine-wave edges.</li><li>Can be used to add decorative or dynamic edges to shapes.</li></ul></li></ul><h2 id="getting-started" tabindex="-1">Getting Started <a class="header-anchor" href="#getting-started" aria-label="Permalink to &quot;Getting Started&quot;">​</a></h2><p>To utilize these utilities, simply import them from the <code>utils.ts</code> file into your shape creation script. These helpers will streamline the process of building and customizing SVG shapes, ensuring consistent results across your projects.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  labelHelper,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  updateNodeBounds,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  insertPolygonShape,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  getNodeClasses,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  createPathFromPoints,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  generateFullSineWavePoints,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./utils.ts&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><h2 id="example-usage" tabindex="-1">Example Usage <a class="header-anchor" href="#example-usage" aria-label="Permalink to &quot;Example Usage&quot;">​</a></h2><p>Here’s a basic example of how you might use some of these utilities:</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { labelHelper, insertPolygonShape } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./utils.ts&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> svgContainer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getElementById</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;svgContainer&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Insert a polygon shape</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">insertPolygonShape</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(svgContainer </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* shape-specific parameters */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Create and insert a label inside the shape</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">labelHelper</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(svgContainer </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* label-specific parameters */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><h2 id="adding-new-shapes" tabindex="-1">Adding New Shapes <a class="header-anchor" href="#adding-new-shapes" aria-label="Permalink to &quot;Adding New Shapes&quot;">​</a></h2><h3 id="_1-create-the-shape-function" tabindex="-1">1. Create the Shape Function <a class="header-anchor" href="#_1-create-the-shape-function" aria-label="Permalink to &quot;1. Create the Shape Function&quot;">​</a></h3><p>To add a new shape:</p><ul><li><p><strong>Create the shape function</strong>: Create a new file of name of the shape and export a function in the <code>shapes</code> directory that generates your shape. The file and function should follow the pattern used in existing shapes and return an SVG element.</p></li><li><p><strong>Example</strong>:</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Node, RenderOptions } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;../../types.ts&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> myNewShape</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  parent</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SVGAElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  node</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Node</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  renderOptions</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> RenderOptions</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Create your shape here</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> shape</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> parent.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">insert</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;g&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">attr</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;class&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;my-new-shape&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Add other elements or styles as needed</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> shape;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div></li></ul><h3 id="_2-register-the-shape" tabindex="-1">2. Register the Shape <a class="header-anchor" href="#_2-register-the-shape" aria-label="Permalink to &quot;2. Register the Shape&quot;">​</a></h3><ul><li><p><strong>Register the shape</strong>: Add your shape to the <code>shapes</code> object in the <a href="../rendering-util/rendering-elements/shapes.ts">main shapes module</a>. This allows your shape to be recognized and used within the system.</p></li><li><p><strong>Example</strong>:</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { myNewShape } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./shapes/myNewShape&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> shapes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    semanticName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;My Shape&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Shape Name&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    shortName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;short-name&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    description</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;Description for the shape&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    aliases</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;alias-one&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;al-on&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;alias-two&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;al-two&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    handler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: myNewShape,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div></li></ul><h1 id="shape-intersection-algorithms" tabindex="-1">Shape Intersection Algorithms <a class="header-anchor" href="#shape-intersection-algorithms" aria-label="Permalink to &quot;Shape Intersection Algorithms&quot;">​</a></h1><p>This contains algorithms and utilities for calculating intersection points for various shapes in SVG. Arrow intersection points are crucial for accurately determining where arrows connect with shapes. Ensuring precise intersection points enhances the clarity and accuracy of flowcharts and diagrams.</p><h2 id="shape-intersection-functions" tabindex="-1">Shape Intersection Functions <a class="header-anchor" href="#shape-intersection-functions" aria-label="Permalink to &quot;Shape Intersection Functions&quot;">​</a></h2><h3 id="_1-ellipse" tabindex="-1">1. <code>Ellipse</code> <a class="header-anchor" href="#_1-ellipse" aria-label="Permalink to &quot;1. \`Ellipse\`&quot;">​</a></h3><p>Calculates the intersection points for an ellipse.</p><p><strong>Usage</strong>:</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> intersectEllipse </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./intersect-ellipse.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> intersection</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> intersectEllipse</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(node, rx, ry, point);</span></span></code></pre></div><ul><li><strong>Parameters</strong>: <ul><li><code>node</code>: The SVG node element.</li><li><code>rx</code>: The x-radius of the ellipse.</li><li><code>ry</code>: The y-radius of the ellipse.</li><li><code>point</code>: The point from which the intersection is calculated.</li></ul></li></ul><h3 id="_2-intersectrect" tabindex="-1">2. <code>intersectRect</code> <a class="header-anchor" href="#_2-intersectrect" aria-label="Permalink to &quot;2. \`intersectRect\`&quot;">​</a></h3><p>Calculates the intersection points for a rectangle.</p><p><strong>Usage</strong>:</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> intersectRect </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./intersect-rect.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> intersection</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> intersectRect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(node, point);</span></span></code></pre></div><ul><li><strong>Parameters</strong>: <ul><li><code>node</code>: The SVG node element.</li><li><code>point</code>: The point from which the intersection is calculated.</li></ul></li></ul><h3 id="_3-intersectpolygon" tabindex="-1">3. <code>intersectPolygon</code> <a class="header-anchor" href="#_3-intersectpolygon" aria-label="Permalink to &quot;3. \`intersectPolygon\`&quot;">​</a></h3><p>Calculates the intersection points for a polygon.</p><p><strong>Usage</strong>:</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> intersectPolygon </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./intersect-polygon.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> intersection</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> intersectPolygon</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(node, polyPoints, point);</span></span></code></pre></div><ul><li><strong>Parameters</strong>: <ul><li><code>node</code>: The SVG node element.</li><li><code>polyPoints</code>: Array of points defining the polygon.</li><li><code>point</code>: The point from which the intersection is calculated.</li></ul></li></ul><h2 id="cypress-tests" tabindex="-1">Cypress Tests <a class="header-anchor" href="#cypress-tests" aria-label="Permalink to &quot;Cypress Tests&quot;">​</a></h2><p>To ensure the robustness of the flowchart shapes, there are implementation of comprehensive Cypress test cases in <code>newShapes.spec.ts</code> file. These tests cover various aspects such as:</p><ul><li><strong>Shapes</strong>: Testing new shapes like <code>bowTieRect</code>, <code>waveRectangle</code>, <code>trapezoidalPentagon</code>, etc.</li><li><strong>Looks</strong>: Verifying shapes under different visual styles (<code>classic</code> and <code>handDrawn</code>).</li><li><strong>Directions</strong>: Ensuring correct rendering in all flow directions of arrows : <ul><li><code>TB</code> <code>(Top -&gt; Bottom)</code></li><li><code>BT</code> <code>(Bottom -&gt; Top)</code></li><li><code>LR</code> <code>(Left -&gt; Right)</code></li><li><code>RL</code> <code>(Right -&gt; Left)</code></li></ul></li><li><strong>Labels</strong>: Testing shapes with different labels, including: <ul><li>No labels</li><li>Short labels</li><li>Very long labels</li><li>Markdown with <code>htmlLabels:true</code> and <code>htmlLabels:false</code></li></ul></li><li><strong>Styles</strong>: Applying custom styles to shapes and verifying correct rendering.</li><li><strong>Class Definitions</strong>: Using <code>classDef</code> to apply custom classes and testing their impact.</li></ul><h3 id="running-the-tests" tabindex="-1">Running the Tests <a class="header-anchor" href="#running-the-tests" aria-label="Permalink to &quot;Running the Tests&quot;">​</a></h3><p>To run the Cypress tests, follow these steps:</p><ol><li><p>Ensure you have all dependencies installed by running:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span></span></code></pre></div></li><li><p>Start the Cypress test runner:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cypress</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> open</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --env</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> updateSnapshots=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span></code></pre></div></li><li><p>Select the test suite from the Cypress interface to run all the flowchart shape tests.</p></li></ol>`,54)])])}const g=i(n,[["render",l]]);export{c as __pageData,g as default};
