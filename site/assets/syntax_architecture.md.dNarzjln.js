import{_ as p,C as l,c as h,o as i,j as a,b as n,a7 as c,a as s,w as t,G as d,a8 as r}from"./chunks/framework.odPblmUY.js";const y=JSON.parse('{"title":"Architecture Diagrams Documentation (v11.1.0+)","description":"","frontmatter":{"editLink":"https://github.com/mermaid-js/mermaid/edit/develop/packages/mermaid/src/docs/syntax/architecture.md","head":[["link",{"rel":"canonical","href":"https://mermaid.ai/open-source/syntax/architecture.html"}]]},"headers":[],"relativePath":"syntax/architecture.md","filePath":"syntax/architecture.md"}'),u={name:"syntax/architecture.md"};function g(b,e,v,m,k,A){const o=l("Mermaid");return i(),h("div",null,[e[3]||(e[3]=a("h1",{id:"architecture-diagrams-documentation-v11-1-0",tabindex:"-1"},[s("Architecture Diagrams Documentation (v11.1.0+) "),a("a",{class:"header-anchor",href:"#architecture-diagrams-documentation-v11-1-0","aria-label":'Permalink to "Architecture Diagrams Documentation (v11.1.0+)"'},"​")],-1)),e[4]||(e[4]=a("blockquote",null,[a("p",null,"In the context of mermaid-js, the architecture diagram is used to show the relationship between services and resources commonly found within the Cloud or CI/CD deployments. In an architecture diagram, services (nodes) are connected by edges. Related services can be placed within groups to better illustrate how they are organized.")],-1)),e[5]||(e[5]=a("h2",{id:"example",tabindex:"-1"},[s("Example "),a("a",{class:"header-anchor",href:"#example","aria-label":'Permalink to "Example"'},"​")],-1)),(i(),n(r,null,{default:t(()=>[d(o,{id:"mermaid-11",showCode:!0,graph:"architecture-beta%0A%20%20%20%20group%20api(cloud)%5BAPI%5D%0A%0A%20%20%20%20service%20db(database)%5BDatabase%5D%20in%20api%0A%20%20%20%20service%20disk1(disk)%5BStorage%5D%20in%20api%0A%20%20%20%20service%20disk2(disk)%5BStorage%5D%20in%20api%0A%20%20%20%20service%20server(server)%5BServer%5D%20in%20api%0A%0A%20%20%20%20db%3AL%20--%20R%3Aserver%0A%20%20%20%20disk1%3AT%20--%20B%3Aserver%0A%20%20%20%20disk2%3AT%20--%20B%3Adb%0A"})]),fallback:t(()=>[...e[0]||(e[0]=[s(" Loading... ",-1)])]),_:1})),e[6]||(e[6]=c(`<h2 id="syntax" tabindex="-1">Syntax <a class="header-anchor" href="#syntax" aria-label="Permalink to &quot;Syntax&quot;">​</a></h2><p>The building blocks of an architecture are <code>groups</code>, <code>services</code>, <code>edges</code>, and <code>junctions</code>.</p><p>For supporting components, icons are declared by surrounding the icon name with <code>()</code>, while labels are declared by surrounding the text with <code>[]</code>.</p><p>To begin an architecture diagram, use the keyword <code>architecture-beta</code>, followed by your groups, services, edges, and junctions. While each of the 3 building blocks can be declared in any order, care must be taken to ensure the identifier was previously declared by another component.</p><h3 id="groups" tabindex="-1">Groups <a class="header-anchor" href="#groups" aria-label="Permalink to &quot;Groups&quot;">​</a></h3><p>The syntax for declaring a group is:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>group {group id}({icon name})[{title}] (in {parent id})?</span></span></code></pre></div><p>Put together:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>group public_api(cloud)[Public API]</span></span></code></pre></div><p>creates a group identified as <code>public_api</code>, uses the icon <code>cloud</code>, and has the label <code>Public API</code>.</p><p>Additionally, groups can be placed within a group using the optional <code>in</code> keyword</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>group private_api(cloud)[Private API] in public_api</span></span></code></pre></div><h3 id="services" tabindex="-1">Services <a class="header-anchor" href="#services" aria-label="Permalink to &quot;Services&quot;">​</a></h3><p>The syntax for declaring a service is:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>service {service id}({icon name})[{title}] (in {parent id})?</span></span></code></pre></div><p>Put together:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>service database1(database)[My Database]</span></span></code></pre></div><p>creates the service identified as <code>database1</code>, using the icon <code>database</code>, with the label <code>My Database</code>.</p><p>If the service belongs to a group, it can be placed inside it through the optional <code>in</code> keyword</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>service database1(database)[My Database] in private_api</span></span></code></pre></div><h3 id="edges" tabindex="-1">Edges <a class="header-anchor" href="#edges" aria-label="Permalink to &quot;Edges&quot;">​</a></h3><p>The syntax for declaring an edge is:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>{serviceId}{{group}}?:{T|B|L|R} {&lt;}?--{&gt;}? {T|B|L|R}:{serviceId}{{group}}?</span></span></code></pre></div><h4 id="edge-direction" tabindex="-1">Edge Direction <a class="header-anchor" href="#edge-direction" aria-label="Permalink to &quot;Edge Direction&quot;">​</a></h4><p>The side of the service the edge comes out of is specified by adding a colon (<code>:</code>) to the side of the service connecting to the arrow and adding <code>L|R|T|B</code></p><p>For example:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>db:R -- L:server</span></span></code></pre></div><p>creates an edge between the services <code>db</code> and <code>server</code>, with the edge coming out of the right of <code>db</code> and the left of <code>server</code>.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>db:T -- L:server</span></span></code></pre></div><p>creates a 90 degree edge between the services <code>db</code> and <code>server</code>, with the edge coming out of the top of <code>db</code> and the left of <code>server</code>.</p><h4 id="arrows" tabindex="-1">Arrows <a class="header-anchor" href="#arrows" aria-label="Permalink to &quot;Arrows&quot;">​</a></h4><p>Arrows can be added to each side of an edge by adding <code>&lt;</code> before the direction on the left, and/or <code>&gt;</code> after the direction on the right.</p><p>For example:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>subnet:R --&gt; L:gateway</span></span></code></pre></div><p>creates an edge with the arrow going into the <code>gateway</code> service</p><h4 id="edges-out-of-groups" tabindex="-1">Edges out of Groups <a class="header-anchor" href="#edges-out-of-groups" aria-label="Permalink to &quot;Edges out of Groups&quot;">​</a></h4><p>To have an edge go from a group to another group or service within another group, the <code>{group}</code> modifier can be added after the <code>serviceId</code>.</p><p>For example:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>service server[Server] in groupOne</span></span>
<span class="line"><span>service subnet[Subnet] in groupTwo</span></span>
<span class="line"><span></span></span>
<span class="line"><span>server{group}:B --&gt; T:subnet{group}</span></span></code></pre></div><p>creates an edge going out of <code>groupOne</code>, adjacent to <code>server</code>, and into <code>groupTwo</code>, adjacent to <code>subnet</code>.</p><p>It&#39;s important to note that <code>groupId</code>s cannot be used for specifying edges and the <code>{group}</code> modifier can only be used for services within a group.</p><h3 id="junctions" tabindex="-1">Junctions <a class="header-anchor" href="#junctions" aria-label="Permalink to &quot;Junctions&quot;">​</a></h3><p>Junctions are a special type of node which acts as a potential 4-way split between edges.</p><p>The syntax for declaring a junction is:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>junction {junction id} (in {parent id})?</span></span></code></pre></div>`,45)),(i(),n(r,null,{default:t(()=>[d(o,{id:"mermaid-123",showCode:!0,graph:"architecture-beta%0A%20%20%20%20service%20left_disk(disk)%5BDisk%5D%0A%20%20%20%20service%20top_disk(disk)%5BDisk%5D%0A%20%20%20%20service%20bottom_disk(disk)%5BDisk%5D%0A%20%20%20%20service%20top_gateway(internet)%5BGateway%5D%0A%20%20%20%20service%20bottom_gateway(internet)%5BGateway%5D%0A%20%20%20%20junction%20junctionCenter%0A%20%20%20%20junction%20junctionRight%0A%0A%20%20%20%20left_disk%3AR%20--%20L%3AjunctionCenter%0A%20%20%20%20top_disk%3AB%20--%20T%3AjunctionCenter%0A%20%20%20%20bottom_disk%3AT%20--%20B%3AjunctionCenter%0A%20%20%20%20junctionCenter%3AR%20--%20L%3AjunctionRight%0A%20%20%20%20top_gateway%3AB%20--%20T%3AjunctionRight%0A%20%20%20%20bottom_gateway%3AT%20--%20B%3AjunctionRight%0A"})]),fallback:t(()=>[...e[1]||(e[1]=[s(" Loading... ",-1)])]),_:1})),e[7]||(e[7]=c('<h2 id="icons" tabindex="-1">Icons <a class="header-anchor" href="#icons" aria-label="Permalink to &quot;Icons&quot;">​</a></h2><p>By default, architecture diagram supports the following icons: <code>cloud</code>, <code>database</code>, <code>disk</code>, <code>internet</code>, <code>server</code>. Users can use any of the 200,000+ icons available in iconify.design, or add other custom icons, by <a href="./../config/icons.html">registering an icon pack</a>.</p><p>After the icons are installed, they can be used in the architecture diagram by using the format &quot;name:icon-name&quot;, where name is the value used when registering the icon pack.</p>',3)),(i(),n(r,null,{default:t(()=>[d(o,{id:"mermaid-133",showCode:!0,graph:"architecture-beta%0A%20%20%20%20group%20api(logos%3Aaws-lambda)%5BAPI%5D%0A%0A%20%20%20%20service%20db(logos%3Aaws-aurora)%5BDatabase%5D%20in%20api%0A%20%20%20%20service%20disk1(logos%3Aaws-glacier)%5BStorage%5D%20in%20api%0A%20%20%20%20service%20disk2(logos%3Aaws-s3)%5BStorage%5D%20in%20api%0A%20%20%20%20service%20server(logos%3Aaws-ec2)%5BServer%5D%20in%20api%0A%0A%20%20%20%20db%3AL%20--%20R%3Aserver%0A%20%20%20%20disk1%3AT%20--%20B%3Aserver%0A%20%20%20%20disk2%3AT%20--%20B%3Adb%0A"})]),fallback:t(()=>[...e[2]||(e[2]=[s(" Loading... ",-1)])]),_:1}))])}const w=p(u,[["render",g]]);export{y as __pageData,w as default};
