import{_ as c,C as p,c as h,o,a7 as d,b as s,j as a,w as i,a as t,G as l,a8 as r}from"./chunks/framework.odPblmUY.js";const q=JSON.parse('{"title":"Directives","description":"","frontmatter":{"editLink":"https://github.com/mermaid-js/mermaid/edit/develop/packages/mermaid/src/docs/config/directives.md","head":[["link",{"rel":"canonical","href":"https://mermaid.ai/open-source/config/directives.html"}]]},"headers":[],"relativePath":"config/directives.md","filePath":"config/directives.md"}'),u={name:"config/directives.md"};function g(m,e,f,v,b,A){const n=p("Mermaid");return o(),h("div",null,[e[8]||(e[8]=d(`<h1 id="directives" tabindex="-1">Directives <a class="header-anchor" href="#directives" aria-label="Permalink to &quot;Directives&quot;">​</a></h1><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Directives are deprecated from v10.5.0. Please use the <code>config</code> key in frontmatter to pass configuration. See <a href="./configuration.html">Configuration</a> for more details.</p></div><h2 id="directives-1" tabindex="-1">Directives <a class="header-anchor" href="#directives-1" aria-label="Permalink to &quot;Directives&quot;">​</a></h2><p>Directives give a diagram author the capability to alter the appearance of a diagram before rendering by changing the applied configuration.</p><p>The significance of having directives is that you have them available while writing the diagram, and can modify the default global and diagram-specific configurations. So, directives are applied on top of the default configuration. The beauty of directives is that you can use them to alter configuration settings for a specific diagram, i.e. at an individual level.</p><p>While directives allow you to change most of the default configuration settings, there are some that are not available, for security reasons. Also, you have the <em>option to define the set of configurations</em> that you wish to allow diagram authors to override with directives.</p><h2 id="types-of-directives-options" tabindex="-1">Types of Directives options <a class="header-anchor" href="#types-of-directives-options" aria-label="Permalink to &quot;Types of Directives options&quot;">​</a></h2><p>Mermaid basically supports two types of configuration options to be overridden by directives.</p><ol><li><p><em>General/Top Level configurations</em> : These are the configurations that are available and applied to all the diagram. <strong>Some of the most important top-level</strong> configurations are:</p><ul><li>theme</li><li>fontFamily</li><li>logLevel</li><li>securityLevel</li><li>startOnLoad</li><li>secure</li></ul></li><li><p><em>Diagram-specific configurations</em> : These are the configurations that are available and applied to a specific diagram. For each diagram there are specific configuration that will alter how that particular diagram looks and behaves. For example, <code>mirrorActors</code> is a configuration that is specific to the <code>SequenceDiagram</code> and alters whether the actors are mirrored or not. So this config is available only for the <code>SequenceDiagram</code> type.</p></li></ol><p><strong>NOTE:</strong> Not all configuration options are listed here. To get hold of all the configuration options, please refer to the <a href="https://github.com/mermaid-js/mermaid/blob/develop/packages/mermaid/src/defaultConfig.ts" target="_blank" rel="noreferrer">defaultConfig.ts</a> in the source code.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>We plan to publish a complete list of top-level configurations &amp; diagram-specific configurations with their possible values in the docs soon.</p></div><h2 id="declaring-directives" tabindex="-1">Declaring directives <a class="header-anchor" href="#declaring-directives" aria-label="Permalink to &quot;Declaring directives&quot;">​</a></h2><p>Now that we have defined the types of configurations that are available, we can learn how to declare directives. A directive always starts and ends with <code>%%</code> signs with directive text in between, like <code>%% {directive_text} %%</code>.</p><p>Here the structure of a directive text is like a nested key-value pair map or a JSON object with root being <em>init</em>. Where all the general configurations are defined in the top level, and all the diagram specific configurations are defined one level deeper with diagram type as key/root for that section.</p><p>The following code snippet shows the structure of a directive:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>%%{</span></span>
<span class="line"><span>  init: {</span></span>
<span class="line"><span>    &quot;theme&quot;: &quot;dark&quot;,</span></span>
<span class="line"><span>    &quot;fontFamily&quot;: &quot;monospace&quot;,</span></span>
<span class="line"><span>    &quot;logLevel&quot;: &quot;info&quot;,</span></span>
<span class="line"><span>    &quot;flowchart&quot;: {</span></span>
<span class="line"><span>      &quot;htmlLabels&quot;: true,</span></span>
<span class="line"><span>      &quot;curve&quot;: &quot;linear&quot;</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span>    &quot;sequence&quot;: {</span></span>
<span class="line"><span>      &quot;mirrorActors&quot;: true</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>}%%</span></span></code></pre></div><p>You can also define the directives in a single line, like this:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>%%{init: { **insert configuration options here** } }%%</span></span></code></pre></div><p>For example, the following code snippet:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>%%{init: { &quot;sequence&quot;: { &quot;mirrorActors&quot;:false }}}%%</span></span></code></pre></div><p><strong>Notes:</strong> The JSON object that is passed as {<strong>argument</strong>} must be valid key value pairs and encased in quotation marks or it will be ignored. Valid Key Value pairs can be found in config.</p><p>Example with a simple graph:</p>`,22)),(o(),s(r,null,{default:i(()=>[l(n,{id:"mermaid-105",showCode:!0,graph:"%25%25%7Binit%3A%20%7B%20'logLevel'%3A%20'debug'%2C%20'theme'%3A%20'dark'%20%7D%20%7D%25%25%0Agraph%20LR%0AA--%3EB%0A"})]),fallback:i(()=>[...e[0]||(e[0]=[t(" Loading... ",-1)])]),_:1})),e[9]||(e[9]=d("<p>Here the directive declaration will set the <code>logLevel</code> to <code>debug</code> and the <code>theme</code> to <code>dark</code> for a rendered mermaid diagram, changing the appearance of the diagram itself.</p><p>Note: You can use &#39;init&#39; or &#39;initialize&#39; as both are acceptable as init directives. Also note that <code>%%init%%</code> and <code>%%initialize%%</code> directives will be grouped together after they are parsed.</p>",2)),(o(),s(r,null,{default:i(()=>[l(n,{id:"mermaid-112",showCode:!0,graph:"%25%25%7Binit%3A%20%7B%20'logLevel'%3A%20'debug'%2C%20'theme'%3A%20'forest'%20%7D%20%7D%25%25%0A%25%25%7Binitialize%3A%20%7B%20'logLevel'%3A%20'fatal'%2C%20%22theme%22%3A'dark'%2C%20'startOnLoad'%3A%20true%20%7D%20%7D%25%25%0A...%0A"})]),fallback:i(()=>[...e[1]||(e[1]=[t(" Loading... ",-1)])]),_:1})),e[10]||(e[10]=d(`<p>For example, parsing the above generates a single <code>%%init%%</code> JSON object below, combining the two directives and carrying over the last value given for <code>loglevel</code>:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;logLevel&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;fatal&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;theme&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;dark&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;startOnLoad&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>This will then be sent to <code>mermaid.initialize(...)</code> for rendering.</p><h2 id="directive-examples" tabindex="-1">Directive Examples <a class="header-anchor" href="#directive-examples" aria-label="Permalink to &quot;Directive Examples&quot;">​</a></h2><p>Now that the concept of directives has been explained, let us see some more examples of directive usage:</p><h3 id="changing-theme-via-directive" tabindex="-1">Changing theme via directive <a class="header-anchor" href="#changing-theme-via-directive" aria-label="Permalink to &quot;Changing theme via directive&quot;">​</a></h3><p>The following code snippet changes <code>theme</code> to <code>forest</code>:</p><p><code>%%{init: { &quot;theme&quot;: &quot;forest&quot; } }%%</code></p><p>Possible theme values are: <code>default</code>, <code>base</code>, <code>dark</code>, <code>forest</code> and <code>neutral</code>. Default Value is <code>default</code>.</p><p>Example:</p>`,10)),(o(),s(r,null,{default:i(()=>[l(n,{id:"mermaid-141",showCode:!0,graph:"%25%25%7Binit%3A%20%7B%20%22theme%22%3A%20%22forest%22%20%7D%20%7D%25%25%0Agraph%20TD%0AA(Forest)%20--%3E%20B%5B%2FAnother%2F%5D%0AA%20--%3E%20C%5BEnd%5D%0A%20%20subgraph%20section%0A%20%20B%0A%20%20C%0A%20%20end%0A%0A"})]),fallback:i(()=>[...e[2]||(e[2]=[t(" Loading... ",-1)])]),_:1})),e[11]||(e[11]=a("h3",{id:"changing-fontfamily-via-directive",tabindex:"-1"},[t("Changing fontFamily via directive "),a("a",{class:"header-anchor",href:"#changing-fontfamily-via-directive","aria-label":'Permalink to "Changing fontFamily via directive"'},"​")],-1)),e[12]||(e[12]=a("p",null,"The following code snippet changes fontFamily to Trebuchet MS, Verdana, Arial, Sans-Serif:",-1)),e[13]||(e[13]=a("p",null,[a("code",null,'%%{init: { "fontFamily": "Trebuchet MS, Verdana, Arial, Sans-Serif" } }%%')],-1)),e[14]||(e[14]=a("p",null,"Example:",-1)),(o(),s(r,null,{default:i(()=>[l(n,{id:"mermaid-154",showCode:!0,graph:"%25%25%7Binit%3A%20%7B%20%22fontFamily%22%3A%20%22Trebuchet%20MS%2C%20Verdana%2C%20Arial%2C%20Sans-Serif%22%20%7D%20%7D%25%25%0Agraph%20TD%0AA(Forest)%20--%3E%20B%5B%2FAnother%2F%5D%0AA%20--%3E%20C%5BEnd%5D%0A%20%20subgraph%20section%0A%20%20B%0A%20%20C%0A%20%20end%0A%0A"})]),fallback:i(()=>[...e[3]||(e[3]=[t(" Loading... ",-1)])]),_:1})),e[15]||(e[15]=d('<h3 id="changing-loglevel-via-directive" tabindex="-1">Changing logLevel via directive <a class="header-anchor" href="#changing-loglevel-via-directive" aria-label="Permalink to &quot;Changing logLevel via directive&quot;">​</a></h3><p>The following code snippet changes <code>logLevel</code> to <code>2</code>:</p><p><code>%%{init: { &quot;logLevel&quot;: 2 } }%%</code></p><p>Possible <code>logLevel</code> values are:</p><ul><li><code>1</code> for <em>debug</em>,</li><li><code>2</code> for <em>info</em></li><li><code>3</code> for <em>warn</em></li><li><code>4</code> for <em>error</em></li><li><code>5</code> for <em>only fatal errors</em></li></ul><p>Default Value is <code>5</code>.</p><p>Example:</p>',7)),(o(),s(r,null,{default:i(()=>[l(n,{id:"mermaid-200",showCode:!0,graph:"%25%25%7Binit%3A%20%7B%20%22logLevel%22%3A%202%20%7D%20%7D%25%25%0Agraph%20TD%0AA(Forest)%20--%3E%20B%5B%2FAnother%2F%5D%0AA%20--%3E%20C%5BEnd%5D%0A%20%20subgraph%20section%0A%20%20B%0A%20%20C%0A%20%20end%0A"})]),fallback:i(()=>[...e[4]||(e[4]=[t(" Loading... ",-1)])]),_:1})),e[16]||(e[16]=d('<h3 id="changing-flowchart-config-via-directive" tabindex="-1">Changing flowchart config via directive <a class="header-anchor" href="#changing-flowchart-config-via-directive" aria-label="Permalink to &quot;Changing flowchart config via directive&quot;">​</a></h3><p>Some common flowchart configurations are:</p><ul><li><em>htmlLabels</em>: true/false</li><li><em>curve</em>: linear/curve</li><li><em>diagramPadding</em>: number</li><li><em>useMaxWidth</em>: number</li></ul><p>For a complete list of flowchart configurations, see <a href="https://github.com/mermaid-js/mermaid/blob/develop/packages/mermaid/src/defaultConfig.ts" target="_blank" rel="noreferrer">defaultConfig.ts</a> in the source code. <em>Soon we plan to publish a complete list of all diagram-specific configurations updated in the docs.</em></p><p>The following code snippet changes flowchart config:</p><p><code>%%{init: { &quot;flowchart&quot;: { &quot;htmlLabels&quot;: true, &quot;curve&quot;: &quot;linear&quot; } } }%%</code></p><p>Here we are overriding only the flowchart config, and not the general config, setting <code>htmlLabels</code> to <code>true</code> and <code>curve</code> to <code>linear</code>.</p>',7)),(o(),s(r,null,{default:i(()=>[l(n,{id:"mermaid-241",showCode:!0,graph:"%25%25%7Binit%3A%20%7B%20%22flowchart%22%3A%20%7B%20%22htmlLabels%22%3A%20true%2C%20%22curve%22%3A%20%22linear%22%20%7D%20%7D%20%7D%25%25%0Agraph%20TD%0AA(Forest)%20--%3E%20B%5B%2FAnother%2F%5D%0AA%20--%3E%20C%5BEnd%5D%0A%20%20subgraph%20section%0A%20%20B%0A%20%20C%0A%20%20end%0A"})]),fallback:i(()=>[...e[5]||(e[5]=[t(" Loading... ",-1)])]),_:1})),e[17]||(e[17]=d('<h3 id="changing-sequence-diagram-config-via-directive" tabindex="-1">Changing Sequence diagram config via directive <a class="header-anchor" href="#changing-sequence-diagram-config-via-directive" aria-label="Permalink to &quot;Changing Sequence diagram config via directive&quot;">​</a></h3><p>Some common sequence diagram configurations are:</p><ul><li><em>width</em>: number</li><li><em>height</em>: number</li><li><em>messageAlign</em>: left, center, right</li><li><em>mirrorActors</em>: boolean</li><li><em>useMaxWidth</em>: boolean</li><li><em>rightAngles</em>: boolean</li><li><em>showSequenceNumbers</em>: boolean</li><li><em>wrap</em>: boolean</li></ul><p>For a complete list of sequence diagram configurations, see <a href="https://github.com/mermaid-js/mermaid/blob/develop/packages/mermaid/src/defaultConfig.ts" target="_blank" rel="noreferrer">defaultConfig.ts</a> in the source code. <em>Soon we plan to publish a complete list of all diagram-specific configurations updated in the docs.</em></p><p>So, <code>wrap</code> by default has a value of <code>false</code> for sequence diagrams.</p><p>Let us see an example:</p>',6)),(o(),s(r,null,{default:i(()=>[l(n,{id:"mermaid-299",showCode:!0,graph:"sequenceDiagram%0A%0AAlice-%3EBob%3A%20Hello%20Bob%2C%20how%20are%20you%3F%0ABob-%3EAlice%3A%20Fine%2C%20how%20did%20your%20mother%20like%20the%20book%20I%20suggested%3F%20And%20did%20you%20catch%20the%20new%20book%20about%20alien%20invasion%3F%0AAlice-%3EBob%3A%20Good.%0ABob-%3EAlice%3A%20Cool%0A"})]),fallback:i(()=>[...e[6]||(e[6]=[t(" Loading... ",-1)])]),_:1})),e[18]||(e[18]=a("p",null,"Now let us enable wrap for sequence diagrams.",-1)),e[19]||(e[19]=a("p",null,[t("The following code snippet changes sequence diagram config for "),a("code",null,"wrap"),t(" to "),a("code",null,"true"),t(":")],-1)),e[20]||(e[20]=a("p",null,[a("code",null,'%%{init: { "sequence": { "wrap": true} } }%%')],-1)),e[21]||(e[21]=a("p",null,[t("By applying that snippet to the diagram above, "),a("code",null,"wrap"),t(" will be enabled:")],-1)),(o(),s(r,null,{default:i(()=>[l(n,{id:"mermaid-312",showCode:!0,graph:"%25%25%7Binit%3A%20%7B%20%22sequence%22%3A%20%7B%20%22wrap%22%3A%20true%2C%20%22width%22%3A300%20%7D%20%7D%20%7D%25%25%0AsequenceDiagram%0AAlice-%3EBob%3A%20Hello%20Bob%2C%20how%20are%20you%3F%0ABob-%3EAlice%3A%20Fine%2C%20how%20did%20your%20mother%20like%20the%20book%20I%20suggested%3F%20And%20did%20you%20catch%20the%20new%20book%20about%20alien%20invasion%3F%0AAlice-%3EBob%3A%20Good.%0ABob-%3EAlice%3A%20Cool%0A"})]),fallback:i(()=>[...e[7]||(e[7]=[t(" Loading... ",-1)])]),_:1}))])}const w=c(u,[["render",g]]);export{q as __pageData,w as default};
