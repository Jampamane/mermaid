import{_ as h,C as c,c as C,o as n,a7 as d,b as o,j as e,w as a,a as s,G as l,a8 as r}from"./chunks/framework.odPblmUY.js";const b=JSON.parse('{"title":"Sankey diagram (v10.3.0+)","description":"","frontmatter":{"editLink":"https://github.com/mermaid-js/mermaid/edit/develop/packages/mermaid/src/docs/syntax/sankey.md","head":[["link",{"rel":"canonical","href":"https://mermaid.ai/open-source/syntax/sankey.html"}]]},"headers":[],"relativePath":"syntax/sankey.md","filePath":"syntax/sankey.md"}'),p={name:"syntax/sankey.md"};function g(k,i,m,u,A,E){const t=c("Mermaid");return n(),C("div",null,[i[5]||(i[5]=d('<h1 id="sankey-diagram-v10-3-0" tabindex="-1">Sankey diagram (v10.3.0+) <a class="header-anchor" href="#sankey-diagram-v10-3-0" aria-label="Permalink to &quot;Sankey diagram (v10.3.0+)&quot;">​</a></h1><blockquote><p>A sankey diagram is a visualization used to depict a flow from one set of values to another.</p></blockquote><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>This is an experimental diagram. Its syntax are very close to plain CSV, but it is to be extended in the nearest future.</p></div><p>The things being connected are called nodes and the connections are called links.</p><h2 id="example" tabindex="-1">Example <a class="header-anchor" href="#example" aria-label="Permalink to &quot;Example&quot;">​</a></h2><p>This example taken from <a href="https://observablehq.com/@d3/sankey/2?collection=@d3/d3-sankey" target="_blank" rel="noreferrer">observable</a>. It may be rendered a little bit differently, though, in terms of size and colors.</p>',6)),(n(),o(r,null,{default:a(()=>[l(t,{id:"mermaid-22",showCode:!0,graph:"---%0Aconfig%3A%0A%20%20sankey%3A%0A%20%20%20%20showValues%3A%20false%0A---%0Asankey%0A%0AAgricultural%20'waste'%2CBio-conversion%2C124.729%0ABio-conversion%2CLiquid%2C0.597%0ABio-conversion%2CLosses%2C26.862%0ABio-conversion%2CSolid%2C280.322%0ABio-conversion%2CGas%2C81.144%0ABiofuel%20imports%2CLiquid%2C35%0ABiomass%20imports%2CSolid%2C35%0ACoal%20imports%2CCoal%2C11.606%0ACoal%20reserves%2CCoal%2C63.965%0ACoal%2CSolid%2C75.571%0ADistrict%20heating%2CIndustry%2C10.639%0ADistrict%20heating%2CHeating%20and%20cooling%20-%20commercial%2C22.505%0ADistrict%20heating%2CHeating%20and%20cooling%20-%20homes%2C46.184%0AElectricity%20grid%2COver%20generation%20%2F%20exports%2C104.453%0AElectricity%20grid%2CHeating%20and%20cooling%20-%20homes%2C113.726%0AElectricity%20grid%2CH2%20conversion%2C27.14%0AElectricity%20grid%2CIndustry%2C342.165%0AElectricity%20grid%2CRoad%20transport%2C37.797%0AElectricity%20grid%2CAgriculture%2C4.412%0AElectricity%20grid%2CHeating%20and%20cooling%20-%20commercial%2C40.858%0AElectricity%20grid%2CLosses%2C56.691%0AElectricity%20grid%2CRail%20transport%2C7.863%0AElectricity%20grid%2CLighting%20%26%20appliances%20-%20commercial%2C90.008%0AElectricity%20grid%2CLighting%20%26%20appliances%20-%20homes%2C93.494%0AGas%20imports%2CNgas%2C40.719%0AGas%20reserves%2CNgas%2C82.233%0AGas%2CHeating%20and%20cooling%20-%20commercial%2C0.129%0AGas%2CLosses%2C1.401%0AGas%2CThermal%20generation%2C151.891%0AGas%2CAgriculture%2C2.096%0AGas%2CIndustry%2C48.58%0AGeothermal%2CElectricity%20grid%2C7.013%0AH2%20conversion%2CH2%2C20.897%0AH2%20conversion%2CLosses%2C6.242%0AH2%2CRoad%20transport%2C20.897%0AHydro%2CElectricity%20grid%2C6.995%0ALiquid%2CIndustry%2C121.066%0ALiquid%2CInternational%20shipping%2C128.69%0ALiquid%2CRoad%20transport%2C135.835%0ALiquid%2CDomestic%20aviation%2C14.458%0ALiquid%2CInternational%20aviation%2C206.267%0ALiquid%2CAgriculture%2C3.64%0ALiquid%2CNational%20navigation%2C33.218%0ALiquid%2CRail%20transport%2C4.413%0AMarine%20algae%2CBio-conversion%2C4.375%0ANgas%2CGas%2C122.952%0ANuclear%2CThermal%20generation%2C839.978%0AOil%20imports%2COil%2C504.287%0AOil%20reserves%2COil%2C107.703%0AOil%2CLiquid%2C611.99%0AOther%20waste%2CSolid%2C56.587%0AOther%20waste%2CBio-conversion%2C77.81%0APumped%20heat%2CHeating%20and%20cooling%20-%20homes%2C193.026%0APumped%20heat%2CHeating%20and%20cooling%20-%20commercial%2C70.672%0ASolar%20PV%2CElectricity%20grid%2C59.901%0ASolar%20Thermal%2CHeating%20and%20cooling%20-%20homes%2C19.263%0ASolar%2CSolar%20Thermal%2C19.263%0ASolar%2CSolar%20PV%2C59.901%0ASolid%2CAgriculture%2C0.882%0ASolid%2CThermal%20generation%2C400.12%0ASolid%2CIndustry%2C46.477%0AThermal%20generation%2CElectricity%20grid%2C525.531%0AThermal%20generation%2CLosses%2C787.129%0AThermal%20generation%2CDistrict%20heating%2C79.329%0ATidal%2CElectricity%20grid%2C9.452%0AUK%20land%20based%20bioenergy%2CBio-conversion%2C182.01%0AWave%2CElectricity%20grid%2C19.013%0AWind%2CElectricity%20grid%2C289.366%0A"})]),fallback:a(()=>[...i[0]||(i[0]=[s(" Loading... ",-1)])]),_:1})),i[6]||(i[6]=d('<h2 id="syntax" tabindex="-1">Syntax <a class="header-anchor" href="#syntax" aria-label="Permalink to &quot;Syntax&quot;">​</a></h2><p>The idea behind syntax is that a user types <code>sankey</code> keyword first, then pastes raw CSV below and get the result.</p><p>It implements CSV standard as <a href="https://www.ietf.org/rfc/rfc4180.txt" target="_blank" rel="noreferrer">described here</a> with subtle <strong>differences</strong>:</p><ul><li>CSV must contain <strong>3 columns only</strong></li><li>It is <strong>allowed</strong> to have <strong>empty lines</strong> without comma separators for visual purposes</li></ul><h3 id="basic" tabindex="-1">Basic <a class="header-anchor" href="#basic" aria-label="Permalink to &quot;Basic&quot;">​</a></h3><p>It is implied that 3 columns inside CSV should represent <code>source</code>, <code>target</code> and <code>value</code> accordingly:</p>',6)),(n(),o(r,null,{default:a(()=>[l(t,{id:"mermaid-50",showCode:!0,graph:"sankey%0A%0A%25%25%20source%2Ctarget%2Cvalue%0AElectricity%20grid%2COver%20generation%20%2F%20exports%2C104.453%0AElectricity%20grid%2CHeating%20and%20cooling%20-%20homes%2C113.726%0AElectricity%20grid%2CH2%20conversion%2C27.14%0A"})]),fallback:a(()=>[...i[1]||(i[1]=[s(" Loading... ",-1)])]),_:1})),i[7]||(i[7]=e("h3",{id:"empty-lines",tabindex:"-1"},[s("Empty Lines "),e("a",{class:"header-anchor",href:"#empty-lines","aria-label":'Permalink to "Empty Lines"'},"​")],-1)),i[8]||(i[8]=e("p",null,"CSV does not support empty lines without comma delimiters by default. But you can add them if needed:",-1)),(n(),o(r,null,{default:a(()=>[l(t,{id:"mermaid-57",showCode:!0,graph:"sankey%0A%0ABio-conversion%2CLosses%2C26.862%0A%0ABio-conversion%2CSolid%2C280.322%0A%0ABio-conversion%2CGas%2C81.144%0A"})]),fallback:a(()=>[...i[2]||(i[2]=[s(" Loading... ",-1)])]),_:1})),i[9]||(i[9]=e("h3",{id:"commas",tabindex:"-1"},[s("Commas "),e("a",{class:"header-anchor",href:"#commas","aria-label":'Permalink to "Commas"'},"​")],-1)),i[10]||(i[10]=e("p",null,"If you need to have a comma, wrap it in double quotes:",-1)),(n(),o(r,null,{default:a(()=>[l(t,{id:"mermaid-64",showCode:!0,graph:"sankey%0A%0APumped%20heat%2C%22Heating%20and%20cooling%2C%20homes%22%2C193.026%0APumped%20heat%2C%22Heating%20and%20cooling%2C%20commercial%22%2C70.672%0A"})]),fallback:a(()=>[...i[3]||(i[3]=[s(" Loading... ",-1)])]),_:1})),i[11]||(i[11]=e("h3",{id:"double-quotes",tabindex:"-1"},[s("Double Quotes "),e("a",{class:"header-anchor",href:"#double-quotes","aria-label":'Permalink to "Double Quotes"'},"​")],-1)),i[12]||(i[12]=e("p",null,"If you need to have double quote, put a pair of them inside quoted string:",-1)),(n(),o(r,null,{default:a(()=>[l(t,{id:"mermaid-71",showCode:!0,graph:"sankey%0A%0APumped%20heat%2C%22Heating%20and%20cooling%2C%20%22%22homes%22%22%22%2C193.026%0APumped%20heat%2C%22Heating%20and%20cooling%2C%20%22%22commercial%22%22%22%2C70.672%0A"})]),fallback:a(()=>[...i[4]||(i[4]=[s(" Loading... ",-1)])]),_:1})),i[13]||(i[13]=d(`<h2 id="configuration" tabindex="-1">Configuration <a class="header-anchor" href="#configuration" aria-label="Permalink to &quot;Configuration&quot;">​</a></h2><p>You can customize link colors, node alignments and diagram dimensions.</p><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> config</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    startOnLoad: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    securityLevel: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;loose&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    sankey: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      width: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">800</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      height: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">400</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      linkColor: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;source&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      nodeAlignment: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;left&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  mermaid.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">initialize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(config);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h3 id="links-coloring" tabindex="-1">Links Coloring <a class="header-anchor" href="#links-coloring" aria-label="Permalink to &quot;Links Coloring&quot;">​</a></h3><p>You can adjust links&#39; color by setting <code>linkColor</code> to one of those:</p><ul><li><code>source</code> - link will be of a source node color</li><li><code>target</code> - link will be of a target node color</li><li><code>gradient</code> - link color will be smoothly transient between source and target node colors</li><li>hex code of color, like <code>#a1a1a1</code></li></ul><h3 id="node-alignment" tabindex="-1">Node Alignment <a class="header-anchor" href="#node-alignment" aria-label="Permalink to &quot;Node Alignment&quot;">​</a></h3><p>Graph layout can be changed by setting <code>nodeAlignment</code> to:</p><ul><li><code>justify</code></li><li><code>center</code></li><li><code>left</code></li><li><code>right</code></li></ul>`,9))])}const f=h(p,[["render",g]]);export{b as __pageData,f as default};
